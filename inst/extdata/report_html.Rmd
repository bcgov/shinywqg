---
title: ""
output:
  html_document:
    toc: FALSE
    theme: null
params:
  use: NA
  table: NA
  cvalues: NA
---
```{r global_options, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, 
                      warning = FALSE, message = FALSE,
                      include = FALSE)

library(dplyr)
library(gt)
```

```{r} 
cvalues <- paste0(names(params$cvalues), ': ', params$cvalues, collapse = "<br>") 
```
 
```{r, include = TRUE}
params$table %>%
  group_by(Variable) %>% 
  gt::gt(rowname_col = "Term") %>%
   tab_header(
    title = params$use,
    subtitle = html(cvalues)
  ) %>%
  gt::fmt_missing(columns = gt::everything()) %>%
  gt::cols_align(
    align = "center",
    columns = gt::everything()
  ) %>%
  gt::tab_style(
    style = gt::cell_text(size = px(13)),
    locations = list(
      gt::cells_data(
      columns = gt::vars(Guideline, Equation, Reference)),
      gt::cells_stub(rows = TRUE)
    )
  ) %>%
  gt::tab_style(
    style = gt::cell_text(weight = "bold"),
    locations = gt::cells_group(
      groups = TRUE
    )
  ) %>%
  tab_footnote(
    "Canada 2014 blah blah",
    locations = gt::cells_data(
      columns = gt::vars(Reference),
      rows = Reference == "CANADA_2014"
    )
  ) %>%
  tab_footnote(
    "British Columbia 2015 blah blah",
    locations = gt::cells_data(
      columns = gt::vars(Reference),
      rows = Reference == "BC_2015"
    )
  ) %>%
  tab_options(footnotes.font.size = px(11),
              table.width  = px(600),
              row_group.padding = px(15),  heading.title.font.size = px(18),
              heading.title.font.weight = "bold")
```



